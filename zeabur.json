{
  "version": "1",
  "services": [
    {
      "name": "backend",
      "path": "backend",
      "type": "python",
      "buildCommand": "pip install -r requirements.txt",
      "startCommand": "gunicorn -w 4 -b 0.0.0.0:$PORT run:app",
      "env": {
        "FLASK_ENV": "production",
        "SECRET_KEY": "${SECRET_KEY}",
        "JWT_SECRET_KEY": "${JWT_SECRET_KEY}",
        "DATABASE_URL": "sqlite:///instance/lead_management.db"
      }
    },
    {
      "name": "frontend",
      "path": "frontend",
      "type": "nodejs",
      "buildCommand": "npm install && npm run build",
      "outputDirectory": "dist",
      "env": {
        "NODE_ENV": "production"
      }
    }
  ]
}

